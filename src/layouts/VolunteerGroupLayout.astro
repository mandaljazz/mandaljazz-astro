---
import { Image } from "astro:assets";
import { imagePathToSrc } from "../utils/images";

const {
  data: { title, imagePath, imageAlt },
  slug,
} = Astro.props;
---

<section class="space-y-8">
  <div id={slug} class="invisible -translate-y-16"></div>
  <h3
    class="sticky top-[100px] inline-block w-full rounded-xl rounded-tl-none bg-pink p-3 text-xl md:top-[56px] md:p-4 md:text-2xl"
  >
    {title}
  </h3>
  <article class="prose">
    <slot />
  </article>
  {
    imagePath && imageAlt && (
      <Image
        src={imagePathToSrc(imagePath)}
        class="w-full max-w-xl rounded-lg shadow-lg"
        alt={imageAlt}
      />
    )
  }
</section>
