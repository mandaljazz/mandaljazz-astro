---
import Layout from "../layouts/Layout.astro";

const artists = await Astro.glob("../pages/artist/*.mdx");
---

<Layout
  title="Program // mandaljazz 2023"
  description="Programmet til mandaljazz 2023"
>
  <main>
    <h1 class="font-display text-5xl">Program</h1>
    <table class="table-auto">
      <thead>
        <tr>
          <th>Artist</th>
          <th>Venue</th>
          <th>NÃ¥r</th>
        </tr>
      </thead>
      <tbody>
        {
          artists.map((artist) => {
            const {
              frontmatter: { title, id, venue, concertStartAt, hidden },
            } = artist;

            if (hidden) {
              return null;
            }

            return (
              <tr>
                <td>
                  <a href={`/artist/${id}`}>{title}</a>
                </td>
                <td>{venue}</td>
                <td>{concertStartAt}</td>
              </tr>
            );
          })
        }
      </tbody>
    </table>
  </main>
</Layout>
